# ============================================================================
# CORE MCP AND API DEPENDENCIES
# ============================================================================
mcp>=1.0.0
openai>=1.55.2
pydantic>=2.0.0
python-dotenv>=1.0.0
zhipuai>=2.1.0  # GLM chat and embeddings provider
importlib-resources>=5.0.0; python_version<"3.9"

# ============================================================================
# WEBSOCKET DAEMON DEPENDENCIES
# ============================================================================
# websockets<15 required for Supabase realtime compatibility
websockets>=11,<15

# ============================================================================
# SUPABASE DEPENDENCIES (Track 3: Persistent Storage)
# ============================================================================
# Version 2.15.3: Stable version compatible with httpx 0.27.x
# - Pre-dates http_client parameter issues (< 2.20.0)
# - Compatible with MCP server httpx requirements (>=0.27.1)
# - Production-ready and well-tested
httpx==0.27.2  # Required for MCP 1.16.0 and supabase compatibility
supabase==2.15.3

# ============================================================================
# REDIS DEPENDENCIES (Dual Storage: Redis + Supabase)
# ============================================================================
redis>=5.0.0  # Redis client for conversation caching and persistence

# ============================================================================
# CACHING DEPENDENCIES (Routing Cache + Conversation Cache)
# ============================================================================
cachetools>=5.0.0  # TTL cache for routing decisions and in-memory caching

# ============================================================================
# TIMEZONE DEPENDENCIES (Melbourne/Australia AEDT timezone support)
# ============================================================================
pytz>=2024.1  # Timezone conversion for Australia/Melbourne (AEDT) timestamps

# ============================================================================
# MONITORING DEPENDENCIES (Phase 3 Critical Gaps - 2025-10-18)
# ============================================================================
prometheus-client>=0.20.0  # Prometheus metrics collection and export
psutil>=5.9.0  # System and process monitoring (CPU, memory, disk)
aiohttp>=3.9.0  # HTTP server for health checks and metrics

# ============================================================================
# RESILIENCE DEPENDENCIES (Phase 1 Critical Fixes - 2025-10-18)
# ============================================================================
pybreaker>=1.0.0  # Circuit breaker pattern for external service calls